<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>egg1</title>
    <link rel="stylesheet" href="css/egg.css" />
</head>
<body>
    <div>
        <h1>Egg 1 Question</h1>
        <p>What's the most lovely animal in the world?</p>
        <input type="text" name="answer" />
        <button name="submit">Submit</button>
    </div>
    <button name="back">back</button>

    <script>
        const backBtn = document.querySelector('button[name="back"]');

        if (backBtn) {
            backBtn.addEventListener('click', function() {
                window.location.href = "main.html";
            });
        } else {
            console.warn('Back button not found');
        }

        const submitBtn = document.querySelector('button[name="submit"]');
        if( submitBtn ) {
            submitBtn.addEventListener('click', function() {
                const answerInput = document.querySelector('input[name="answer"]');
                const answer = answerInput ? answerInput.value.trim().toLowerCase() : '';
                if (answer === 'cat' || answer === 'kitty' || answer === "貓咪" || answer === "貓") {
                    alert("CLUE 1:H3ll0");
                } else {
                    alert("Nooooo...Try again.");
                }
            });
        } else {
            console.warn('Submit button not found');
        }

        const answerInput = document.querySelector('input[name="answer"]');
        
        answerInput.addEventListener('keydown', function(event) {
            if (event.key === 'Enter') submitBtn.click();
        });

        // 監聽整個畫面被點擊
        document.addEventListener('click', (event) => {
        // 建立 img 元素
        const cat = document.createElement('img');

        // 隨機選一張貓咪圖（假設你有 cat1.png, cat2.png, cat3.png）
        const catIndex = Math.floor(Math.random() * 15) + 1;
        cat.src = `assets/images/cat${catIndex}.png`;

        // 隨機縮放比例 (0.5x ~ 1x)
        const scale = 1.2 + Math.random() * 0.5;
        cat.style.transform = `scale(${scale})`;

        cat.animate(
        [
            { transform: `scale(0)`, opacity: 0 },
            { transform: `scale(${scale})`, opacity: 1 }
        ],
        {
            duration: 500,
            easing: "ease-out"
        }
        );

        // 設定位置
        cat.style.position = 'absolute';
        cat.style.left = `${event.clientX - 50}px`; // 讓圖片中心對準點擊處
        cat.style.top = `${event.clientY - 50}px`;
        cat.style.width = '100px';
        cat.style.pointerEvents = 'none'; // 不影響後續點擊
        cat.style.transition = 'opacity 1s ease';
        cat.style.zIndex = '999';

        // 加入畫面
        document.body.appendChild(cat);

        // 2秒後淡出並移除
        setTimeout(() => {
            cat.style.opacity = '0';
            setTimeout(() => cat.remove(), 1000);
        }, 1500);
        });
    </script>
</body>

</html>